<html>
<head>
	<title>Camera Experiments</title>
	<style>
		video {
			height: 540px;
			margin: auto;
		}
	</style>
	<script>
		navigator.getUserMedia = navigator.getUserMedia || navigator.webkitGetUserMedia || navigator.mozGetUserMedia;

		if (!!navigator.getUserMedia) {
			alert("getUserMedia is not supoprted here.");
		}

		function errorCallback (e) {
			console.log('Rejected!', e);
		}

		function success (stream) {
			var video = document.querySelector('video');
			window.stream = stream;
			if (window.URL) {
				video.src = window.URL.createObjectURL(stream);
			} else {
				video.src = stream;
			};

			video.play();
		}

		function shoot (event) {
			navigator.getUserMedia({video: true, audio: false}, success, errorCallback);
		}

		document.querySelector('button').addEventListener('click', shoot);
	</script>
</head>
<body>
	<video autoplay></video>
	<button>I'm ready for my close-up.</button>
</body>
</html>